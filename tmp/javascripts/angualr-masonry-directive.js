!function(){"use strict";angular.module("masonry",["ng"]).directive("masonry",function(){return{restrict:"AC",link:function(e,i,t){e.items=[];var n=i[0],r=angular.extend({itemSelector:".item"},JSON.parse(t.masonry)),o=e.masonry=new Masonry(n,r),s=0;e.update=function(){s&&window.clearTimeout(s),s=window.setTimeout(function(){s=0,o.reloadItems(),o.layout(),i.children(r.itemSelector).css("visibility","visible")},120)}}}}).directive("masonryTile",function(){return{restrict:"AC",link:function(e,i){i.css("visibility","hidden");var t=i.parent("*[masonry]:first").scope(),n=t.update;imagesLoaded(i.get(0),n),i.ready(n)}}})}();